enum userRole {
    PRO_USER
    USER
    ADMIN
}

model User {
    id            String   @id @default(uuid())
    fullName      String
    email         String   @unique
    phone         String?
    profileImage  String?
    password      String
    birthDate     String?
    birthTime     String?
    birthLocation String?
    timeZone      String?
    role          userRole @default(USER)

    partnerInfo  PartnerInfo ? @relation
    astrologicalProfile AstrologicalProfile ? @relation
    //   tokenExpiry  DateTime?
    //   activationToken  String?
    isActive  Boolean  @default(false)
    isDeleted Boolean  @default(false)
    createdAt DateTime @default(now())
    updatedAt DateTime @updatedAt
    subscriptions Subscription[]

}
model Plan {
  id            String   @id @default(cuid())
  name          String   // e.g., "Monthly", "Yearly"
  description   String?  // optional short description
  priceCents    Int      // e.g., 1999 = $19.99
  currency      String   @default("usd")
  interval      String   @default("month") // "month" or "year"
  features      Json     // array of feature strings
  isPopular     Boolean  @default(false) // for "Most Popular" badge
  stripeProductId String? // from Stripe
  stripePriceId String?  // from Stripe
  createdAt     DateTime @default(now())
  updatedAt     DateTime @updatedAt

  // Optional: link to subscriptions if needed later
  subscriptions Subscription[]
}

model Subscription {
  id             String   @id @default(cuid())
  userId         String
  user           User     @relation(fields: [userId], references: [id])
  planId         String
  plan           Plan     @relation(fields: [planId], references: [id])
  status         String   @default("active") // "active", "canceled", "past_due"
  stripeSubscriptionId String?
  startedAt      DateTime @default(now())
  endedAt        DateTime?
}